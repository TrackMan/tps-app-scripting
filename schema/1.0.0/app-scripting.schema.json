{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.trackman.com/app-scripting/1-0-0/app-scripting.schema.json",
  "title": "TrackMan App Scripting â€” Script",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "type": "string",
      "description": "Optional pointer to this schema; used by editors/validators only."
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "default": "1.0.0"
    },
    "id": { "type": "string", "description": "Unique identifier for the script." },
    "startMode": { "$ref": "shared.schema.json#/$defs/StartMode" },
    "endMode": { "$ref": "shared.schema.json#/$defs/EndMode" },
    "activities": {
      "type": "array",
      "description": "Ordered list of activities. Activities execute sequentially.",
      "minItems": 1,
      "items": {
        "oneOf": [
          { "$ref": "activity-range-analysis.schema.json#/$defs/RangeAnalysisScriptedActivity" },
          { "$ref": "activity-performance-center.schema.json#/$defs/PerformanceCenterScriptedActivity" }
        ]
      }
    }
  },
  "required": ["activities"]
}
